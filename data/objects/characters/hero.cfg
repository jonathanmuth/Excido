{
id: "hero",
is_human: true,
solid_dimensions: ["player", "interact", "npc"],
editor_info: { category: "hero" },
reverse_global_vertical_zordering: true,
no_move_to_standing: true,

on_create: "[set(animation, 'normal'), set(lights, circle_light(me, 60+1d60))]",

properties: {
	team: "'player'",
	movement: "[ctrl_right - ctrl_left, ctrl_down - ctrl_up]",
},

on_process: "[
	#reverse eastward animations for westward directions#
	if(movement = [-1, 0] and (not animation='walk_west'), [animation('walk_west'), set(level.zoom, 2)]),
	if(movement = [ 0,-1] and (not animation='walk_north'), [animation('walk_north'), set(level.zoom, 2), facing(1)]),
	if(movement = [ 0, 1] and (not animation='walk_south'), [animation('walk_south'), set(level.zoom, 2), facing(1)]),
	if(movement = [ 1, 0] and (not animation='walk_east'), [animation('walk_east'), set(level.zoom, 2)]),
	
	set(velocity_x, movement[0]*220 - abs(movement[1])*100*movement[0]), set(velocity_y, movement[1]*220 - abs(movement[0])*100*movement[1]),
	
	if(movement = [ 0, 0], [
		if(animation='walk_north', animation('stand_north')),
		if(animation='walk_east', animation('stand_east')),
		if(animation='walk_west', animation('stand_west')),
		if(animation='walk_south', animation('stand_south'))
	])
]",

on_end_anim: "animation(animation)",

on_collide_object_body: "[if(collide_with_area = 'interact', set(tmp.can_interact, cycle))]",

on_ctrl_attack: "if(animation in ['stand_south','stand_north','stand_west','stand_east'] and tmp.can_interact >= cycle-1, [set(level.zoom, 3), fire_event('interact'), [fire_event(interactive, 'interact') | interactive <- level.chars, interactive is obj interactive]])",

on_interact: "[if(animation in ['stand_west'], set(animation,'interact_west')), if(animation in ['stand_east'], set(animation,'interact_east'))]",

on_end_interact_west_anim: "set(animation, 'stand_west')",
on_end_interact_east_anim: "set(animation, 'stand_east')",

animation: [

{
id: "stand",
image: "characters/hero_spritesheet.png",
body_area: "all",
npc_area: "all",
rect: [1,165,40,204],
solid_area: [14,24,25,35],
accel_x: 0,
accel_y: 0,
pad: 1,
frames: 1,
frames_per_row: 1,
},
{
id: "walk_north",
image: "characters/hero_spritesheet.png",
body_area: "all",
npc_area: "all",
rect: [1,42,40,81],
solid_area: [14,24,25,35],
accel_x: 0,
accel_y: 0,
pad: 1,
frames: 2,
duration: 15,
},
{
frames_per_row: 5,

id: "stand_north",
image: "characters/hero_spritesheet.png",
body_area: "all",
npc_area: "all",
rect: [165,165,204,204],
solid_area: [14,24,25,35],
accel_x: 0,
accel_y: 0,
pad: 3,
frames: 1,
duration: 15,
},
{
id: "walk_south",
image: "characters/hero_spritesheet.png",
body_area: "all",
npc_area: "all",
rect: [1,1,40,40],
solid_area: [14,24,25,35],
accel_x: 0,
accel_y: 0,
pad: 1,
frames: 2,
duration: 15,
},
{
id: "stand_south",
image: "characters/hero_spritesheet.png",
body_area: "all",
npc_area: "all",
rect: [1,165,40,204],
solid_area: [14,24,25,35],
accel_x: 0,
accel_y: 0,
pad: 1,
frames: 1,
frames_per_row: 1,
},
{
id: "walk_west",
image: "characters/hero_spritesheet.png",
body_area: "all",
npc_area: "all",
rect: [1,83,40,122],
solid_area: [14,24,25,35],
accel_x: 0,
accel_y: 0,
pad: 1,
frames: 4,
duration: 10,
},
{
id: "stand_west",
image: "characters/hero_spritesheet.png",
body_area: "all",
npc_area: "all",
rect: [247,165,286,204],
solid_area: [14,24,25,35],
accel_x: 0,
accel_y: 0,
pad: 1,
frames: 1,
duration: 10,
},
{
id: "walk_east",
image: "characters/hero_spritesheet.png",
body_area: "all",
npc_area: "all",
rect: [1,124,40,163],
solid_area: [14,24,25,35],
accel_x: 0,
accel_y: 0,
pad: 1,
frames: 4,
duration: 10,
},
{
id: "stand_east",
image: "characters/hero_spritesheet.png",
body_area: "all",
npc_area: "all",
rect: [83,165,122,204],
solid_area: [14,24,25,35],
accel_x: 0,
accel_y: 0,
pad: 1,
frames: 1,
duration: 10,
},
{
id: "spin",
image: "characters/hero_spritesheet.png",
body_area: "all",
npc_area: "all",
rect: [1,165,40,204],
solid_area: [14,24,25,35],
accel_x: 0,
accel_y: 0,
pad: 1,
frames: 1,
duration: 3,
},
{
id: "interact_west",
image: "characters/hero_spritesheet.png",
body_area: "all",
npc_area: "all",
rect: [1,206,40,245],
solid_area: [14,24,25,35],
accel_x: 0,
accel_y: 0,
pad: 1,
frames: 3,
duration: 6,
reverse: true,
},
{
id: "interact_east",
image: "characters/hero_spritesheet.png",
body_area: "all",
npc_area: "all",
rect: [2,247,41,286],
solid_area: [14,24,25,35],
accel_x: 0,
accel_y: 0,
pad: 1,
frames: 3,
duration: 6,
reverse: true,
}
]
}